!function(e){function t(o){if(n[o])return n[o].exports;var s=n[o]={exports:{},id:o,loaded:!1};return e[o].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var o=n(1),s=n(3),a=n(4),i=n(7),r=n(8),c=n(12),l=n(16),u=n(17);$(function(){$("body").on("keypress",function(e){o.focusIfSlashKeyPressed(e)}),o.enableIncrementalSearch(".enable-incremental-lesson-search"),$("#user_register_form").on("blur",'input[name="user_name"]',function(){s.checkUserName()}),a.appendModule("#lesson-complete-button","on_lesson_page"),a.appendModule(".lesson_complete_button","on_package_page"),i.enable("#lesson_star"),r.copy.enable(".source_copy"),r.diff.enable(".toggle_diff"),r.toggle.enable(".show-hidden-source"),$(".each_source_area").each(function(){1===$(this).data("is-readme")&&$(this).insertBefore(".each_source_area:first")}),$(".source-select").find("option").each(function(){1===$(this).data("is-readme")&&$(this).insertAfter(".source-select > option:first")}),$(".each_source_area.no-diff").each(function(){$(this).insertAfter(".each_source_area:last")}),$(".source-select").find("option").each(function(){1===$(this).data("no-diff")&&$(this).appendTo(".source-select")}),c.settings.autoplay.enable("#autoplay"),c.popup.enable("#popup_video"),l.enable(),u.floating.enable("#q_float_btn","#q_float_board","#q_float_close")})},function(e,t,n){"use strict";var o=function(){function e(e){$(e).find(".q").on("keyup focus",function(e){t($(this),e.which)}).on("keydown",function(e){r(e)}),$("#incremental").on("mouseover",".incremental-row",function(e){$("#incremental").children().removeClass("selected"),$(this).addClass("selected"),d=$(this).index()}),$("#incremental").on("click",".incremental-row",function(e){HMHM.search.track($(this).parents("form.enable-incremental-lesson-search").find(".q").val(),"incre-p-with-click",d+1,0,$(this).text(),$(this).data("href"))}),$("body").click(function(e){var t=e.target||e.srcElement;"q"!==$(t).attr("id")&&0===$(t).parents("#incremental").length&&$("#incremental").empty()})}function t(e,t){return o(e),s(e,t)?!0:a(t)?!0:void(""!==e.val()&&i(e))}function o(e){switch(e.attr("id")){case"q_in_topbar":$("#incremental").appendTo("#topbar_search");break;case"q_in_lessons":$("#incremental").appendTo("#lesson_index_search")}}function s(e,t){if(u===!1&&$("#incremental").children().eq(d).is(":visible")&&1==$("#incremental").find(".incremental-row.selected").length&&$("#incremental").find(".incremental-row.selected").data("href")&&t==l.ENTER){var n=$("#incremental").find(".incremental-row.selected");return HMHM.search.track(e.val(),"incre-p-with-key",d+1,0,n.text(),n.data("href")),!0}return!1}function a(e){return u!==!1||e!=l.TAB&&e!=l.ARROW_UP&&e!=l.ARROW_DOWN?!1:($("#incremental").children().removeClass("selected"),e==l.ARROW_UP?(d--,0>d&&(d=$("#incremental").children().length-1)):(d++,d==$("#incremental").children().length&&(d=0)),$("#incremental").children().eq(d).addClass("selected"),!0)}function i(e){var t,n,o=[],s="";for(d=-1,$("#incremental").empty(),n=0;n<HMHM.packages.length;n++)(t=HMHM.packages[n].name.toLowerCase().indexOf(e.val().toLowerCase(),0))>=0&&o.push({"package":HMHM.packages[n],index:t,i:n});for(o.sort(function(e,t){return e.index===t.index?e.i-t.i:e.index-t.index}),n=0;10>n&&n<o.length;n++)s="0"===o[n]["package"].is_premium?"hidden":"",$('<div class="incremental-row"></div>').data("href","/lessons/"+o[n]["package"].ename).append($('<span class="incremental-row-link"></span>').append($('<img class="premium-tag" />').attr("src","/img/premium_tag.png").addClass(s)).append($('<span class="incremental-row-img"></span>').append($('<img class="pic">').attr("src","/package_img/"+o[n]["package"].ename+"/main.png"))).append($("<span></span>").text(o[n]["package"].name))).appendTo("#incremental")}function r(e){if(HMHM.navigator.isFirefox)u=!1;else{if(e.which==l.INPUT_JAPANESE)return void(u=!0);u=!1}$("#incremental").children().length>0&&(e.which==l.TAB||e.which==l.ARROW_UP||e.which==l.ARROW_DOWN)&&e.preventDefault(),$("#incremental").children().length>0&&-1!==d&&e.which==l.ENTER&&e.preventDefault()}function c(e){if(e.which===l.SLASH.PRESS){var t=e.target||e.srcElement;(1!==t.nodeType||"TEXTAREA"!==t.nodeName&&"INPUT"!==t.nodeName)&&(e.preventDefault(),document.getElementById("q_in_topbar")?document.getElementById("q_in_topbar").focus():document.getElementById("q")&&(document.getElementById("q").focus(),document.getElementById("q").select()))}}var l=n(2),u=!1,d=-1;return{focusIfSlashKeyPressed:c,enableIncrementalSearch:e}}();e.exports=o},function(e,t){"use strict";var n=function(){return{TAB:9,ENTER:13,SPACE:32,ARROW_UP:38,ARROW_DOWN:40,SLASH:{PRESS:47},INPUT_JAPANESE:229}}();e.exports=n},function(e,t){"use strict";var n=function(){function e(){var e=$("#user_name").val();if(""===e)return!1;try{t(e)}catch(o){return!1}$("#user_name_check_result").hide(),$("#user_name_check_loader").show(),$("div.inputError").hide(),n(e)}function t(e){if(" "===e.charAt(0)||" "===e.charAt(e.length-1))throw o("半角空白は使えません"),new Error}function n(e){$.ajax({url:"/signup/check_user_name",type:"POST",data:{user_name:e,one_time_token:$('input[name="one_time_token"]:first').val()}}).done(function(e){e.error?o(e.error_message):s(e.message)}).fail(function(){})}function o(e){$("#user_name_check_result").addClass("label-important").removeClass("label-success").text(e).show(),$("#user_name_check_loader").hide()}function s(e){$("#user_name_check_result").addClass("label-success").removeClass("label-important").text(e).show(),$("#user_name_check_loader").hide()}return{checkUserName:e}}();e.exports=n},function(e,t,n){"use strict";var o={on_lesson_page:n(5),on_package_page:n(6)},s=function(){function e(e,n){u[e]=n,$(e).on("click",function(n){n.preventDefault(),$("#user_id")[0]&&""!==$("#user_id").val()&&!$(this).hasClass("disabled")&&t($(this),e)}).on("reset",function(){i()})}function t(e,t){return d?!1:(d=!0,r=e,c=t,1===$("#lesson_id").length?l=$("#lesson_id").val():""!==r.data("lesson_id")&&(l=r.data("lesson_id")),r.prop("disabled",!0),void n())}function n(){$.ajax({url:"/lesson/complete.json",type:"POST",data:{id:l,user_id:$("#user_id").val(),one_time_token:$('input[name="one_time_token"]:first').val()},timeout:15e3}).done(function(e){s(e)}).fail(function(){})}function s(e){var t;return d=!1,r.prop("disabled",!1),e.result?(t=o[u[c]],e.is_canceled?t.cancel(r,l,e):t.complete(r,l,e),void t.finish(e)):(alert(e.error_message),!1)}function a(e){return o[u[c]]}function i(){d=!1}var r,c,l,u={},d=!1;return{appendModule:e,getResponseModule:a}}();e.exports=s},function(e,t){"use strict";var n=function(){function e(e,t,n){$("#lesson-complete-button").addClass("completed"),$("#completeButtonLabel").text("完了済").addClass("op5"),$("#cancelMsg").slideDown(500),$("#lesson_row_"+t).find("a.lesson_title").addClass("done");var o="<strong>"+n.total_completed_count+"</strong> 本目のレッスンが完了！";e.tooltip({placement:"bottom",html:!0,title:o}).tooltip("show")}function t(e,t,n){$("#lesson-complete-button").removeClass("completed"),$("#completeButtonLabel").text("完了").removeClass("op5"),$("#cancelMsg").slideUp(500),$("#lesson_row_"+t).find("a.lesson_title").removeClass("done"),$("#lesson_completed_user_"+$("#user_id").val()).remove(),$("#completed_users_count").text(1*$("#completed_users_count").text()-1),"0"==$("#completed_users_count").text()&&$("#no_completed_users").show(),e.tooltip("destroy")}function n(e){var t;$("#completed_lesson_count").text(e.completed_lesson_count),t=Math.floor(100*e.completed_lesson_count/e.lesson_count),$("#complete_average").text(t),HMHM.lesson.animateProgressBar(e)}return{complete:e,cancel:t,finish:n}}();e.exports=n},function(e,t){"use strict";var n=function(){function e(e,t,n){e.find("span.iconDotinstall").text("完了済").addClass("op5"),$("#lesson_row_"+t).find("a.lesson_title").addClass("done")}function t(e,t,n){e.find("span.iconDotinstall").text("未完了").removeClass("op5"),$("#lesson_row_"+t).find("a.lesson_title").removeClass("done")}function n(e){var t;$("#remaining_lesson_count").text(e.remaining_lesson_count),$("#completed_lesson_count").text(e.completed_lesson_count),t=Math.floor(100*e.completed_lesson_count/e.lesson_count),$("#complete_average").text(t),HMHM.lesson.animateProgressBar(e)}return{complete:e,cancel:t,finish:n}}();e.exports=n},function(e,t){"use strict";var n=function(){function e(e){o=e,$(o).on("click",function(e){e.preventDefault(),t()})}function t(){$.ajax({url:"/lesson/star.json",type:"POST",data:{id:$("#lesson_id").val(),user_id:$("#user_id").val(),one_time_token:$('input[name="one_time_token"]:first').val()},timeout:15e3}).done(function(e){n(e)}).fail(function(){})}function n(e){return e.result?void(e.unstared?$(o).removeClass("stared"):$(o).addClass("stared")):(alert(e.error_message),!1)}var o;return{enable:e}}();e.exports=n},function(e,t,n){"use strict";var o=function(){var e=n(9),t=n(10),o=n(11);return{copy:e,diff:t,toggle:o}}();e.exports=o},function(e,t){"use strict";var n=function(){function e(e){$(e).click(function(){var e,t=$(this).parent().siblings("textarea");return t.is(":visible")?(t.select(),!0):(e=$(this).parent().siblings("pre:visible"),t.css({overflow:"hidden",width:e.width(),height:e.height(),"font-size":e.css("font-size"),"font-family":e.css("font-family"),padding:e.css("padding"),cursor:"default"}),e.hide(),void t.show().select())})}return{enable:e}}();e.exports=n},function(e,t){"use strict";var n=function(){function e(e){$(e).click(function(){var e,t,n="btn-success";$(this).hasClass("disabled")||(e=$(this).parent().parent().siblings("pre").eq(0),t=$(this).parent().parent().siblings("pre").eq(1),$(this).parent().parent().siblings("textarea").hide(),$(this).blur(),$(this).hasClass(n)?(t.hide(),e.show(),$(this).removeClass(n)):(e.hide(),t.show(),$(this).addClass(n)))})}return{enable:e}}();e.exports=n},function(e,t){"use strict";var n=function(){function e(e){$(e).on("click",function(e){var t=this;e.preventDefault(),$(t).hasClass("opened")?($(t).removeClass("opened").parent().siblings("pre").slideUp(300,function(){$(t).text("ソースコードを表示").parent().removeClass("opened")}).siblings("textarea").hide(),$(t).parents(".each_source_area").find(".select-source-button").prop("disabled",!0)):($(t).addClass("opened").text("ソースコードを閉じる").parent().addClass("opened").siblings("pre").slideDown(300),$(t).parents(".each_source_area").find(".select-source-button").prop("disabled",!1))})}return{enable:e}}();e.exports=n},function(e,t,n){"use strict";var o=function(){var e=n(13),t=n(14);return{popup:e,settings:t}}();e.exports=o},function(e,t){"use strict";var n=function(){function e(e){$(e).on("click",function(){return 1===$(this).data("disabled")?!1:void t($(this).data("ename"),$(this).data("lesson-id"))})}function t(e,t){var o,s;n(),o=$('<form method="post" id="popup_video_form"></form>').attr("action","/lessons/"+e+"/"+t+"/popup").attr("target",a),HMHM.movie.ytplayer&&1==HMHM.movie.ytplayer.getPlayerState()&&(HMHM.movie.ytplayer.pauseVideo(),s=HMHM.movie.ytplayer.getCurrentTime(),o.append($('<input type="hidden" name="seek_to_seconds" value="'+s+'">')).append($('<input type="hidden" name="one_time_token">').val($('input[name="one_time_token"]:first').val()))),o.appendTo("body").submit()}function n(){var e=HMHM.navigator.isSafari?"yes":"no";window.open("about:blank",a,"width="+o+",height="+s+",status=no,directories=no,menubar=no,toolbar="+e+",scrollbars=no,resizable=yes")}var o=658,s=416,a="dotinstall_popup";return{enable:e}}();e.exports=n},function(e,t,n){"use strict";var o=function(){var e=n(15);return{autoplay:e}}();e.exports=o},function(e,t){"use strict";var n=function(){function e(){return"undefined"==typeof HMHM.movie.videojs?!1:void("undefined"!=typeof HMHM.movie.videojs.player_&&HMHM.movie.videojs.player_.on("ended",function(){HMHM.movie.videojs.on.ended()}))}function t(){return"undefined"==typeof HMHM.movie.videojs?!1:("undefined"!=typeof HMHM.movie.videojs.player_&&HMHM.movie.videojs.player_.off("ended"),void HMHM.movie.autoplay.removeAutoplayCookie())}function n(n){$(n).on("click",function(){$("#autoplay").is(":checked")?e():t(),$.post("/user/update_autoplay.json",{user_id:$("#user_id").val(),autoplay:$("#autoplay").is(":checked")?1:0,one_time_token:$(".one_time_token").val()})})}return{enable:n}}();e.exports=n},function(e,t){"use strict";var n=function(){function e(){$(a).hide(),$(a+".active").show(),$(s+" > li").on("click",function(){t($(this))}),$(s).each(function(){$(this).data("tab-save")===!0&&n($(this))})}function t(e){var t="tab_body_"+e.data("tab-id");e.addClass("active").siblings("li").removeClass("active"),$(a).each(function(){$(this).attr("id")===t&&($(this).show(),$(this).siblings().hide())}),e.parent(s).data("tab-save")===!0&&HMHM.cookie.set(e.parent(s).data("tabs-id"),e.data("tab-id"),2592e6,"/lessons/")}function n(e){var n,a;n=o(e),null!==(a=HMHM.cookie.get(n))&&$(s+" > li").each(function(){$(this).data("tab-id")===a&&t($(this))})}function o(e){var t=[],n="";return e.children("li").each(function(){t.push($(this).data("tab-id"))}),n="tabs_state_"+t.join("_"),e.data("tabs-id",n),n}var s=".tabs",a=".tab-body";return{enable:e}}();e.exports=n},function(e,t,n){"use strict";var o=function(){var e=n(18);return{floating:e}}();e.exports=o},function(e,t){"use strict";var n=function(){function e(e,t,n){function o(n){n&&$(e).removeClass("init"),$(e).addClass("open-float").removeClass("close-float"),$(t).addClass("open-float"),$(t).fadeIn(),Dotinstall.cookie.set("q_float_close",0,7776e3,"/")}function s(n){n&&$(e).removeClass("init"),$(e).removeClass("open-float").addClass("close-float"),$(t).removeClass("open-float"),$(t).fadeOut(),Dotinstall.cookie.set("q_float_close",1,7776e3,"/")}var a;$(e).on("click",function(){$(t).hasClass("open-float")?s(!0):o(!0)}),$(n).on("click",function(){$(e).click()}),a=Dotinstall.cookie.get("q_float_close"),null===a||"0"===a?o(!1):s(!1)}return{enable:e}}();e.exports=n}]);